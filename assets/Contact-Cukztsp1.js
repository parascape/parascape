import{U as j,W as o,Y as f,u as y,r as b,j as e,Z as g,_ as h}from"./vendor-BUAeihFo.js";import{N}from"./Navbar-BUiKICT4.js";import{F as v,c as n,d as i,e as l,f as c,I as u,g as m,h as w,B as q}from"./ui-CAMniqh6.js";import{a as F}from"./features-BNUeMVNk.js";const T=j({name:o().min(2,"Name must be at least 2 characters"),email:o().email("Please enter a valid email address"),business:o().min(1,"Business name is required"),phone:o().optional(),about:o().min(10,"Message must be at least 10 characters"),honeypot:o().optional()});function C(){var d;const a=f({resolver:g(T),defaultValues:{name:"",email:"",business:"",phone:"",about:"",honeypot:""}}),r=(d=y().state)==null?void 0:d.auditRequest;b.useEffect(()=>{r&&a.setValue("about","I would like to request a free digital presence audit for my business.")},[r,a]);async function x(s){try{const t=await fetch("https://hjhpcawffvgcczhxcjsr.supabase.co/functions/v1/handle-form-submission",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer undefined"},body:JSON.stringify({...s,type:r?"audit_request":"contact"})});if(!t.ok){const p=await t.json();throw new Error(p.message||"Failed to submit form")}F.track({name:"form_submission",properties:{form:r?"audit_request":"contact",business:s.business}}),h.success(r?"Thank you! We'll send your audit within 24 hours.":"Thank you for your message! We'll be in touch soon."),a.reset()}catch(t){h.error(t instanceof Error?t.message:"Something went wrong. Please try again."),console.error(t)}}return e.jsxs("div",{className:"w-full max-w-xl mx-auto p-6 space-y-8 bg-white rounded-lg shadow-lg animate-fade-up",children:[e.jsxs("div",{className:"space-y-2 text-center",children:[e.jsx("h2",{className:"text-3xl font-bold tracking-tight text-parascape-green",children:r?"Request Your Free Audit":"Get in Touch"}),e.jsx("p",{className:"text-gray-500",children:r?"We'll analyze your digital presence and provide actionable insights.":"Ready to transform your business? Let's start a conversation."}),e.jsx("p",{className:"text-sm text-gray-400",children:"* Required fields"})]}),e.jsx(v,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(x),className:"space-y-6",children:[e.jsx(n,{control:a.control,name:"name",render:({field:s})=>e.jsxs(i,{children:[e.jsx(l,{children:"Name *"}),e.jsx(c,{children:e.jsx(u,{placeholder:"John Doe",...s,"aria-required":"true",autoComplete:"name"})}),e.jsx(m,{})]})}),e.jsx(n,{control:a.control,name:"email",render:({field:s})=>e.jsxs(i,{children:[e.jsx(l,{children:"Email *"}),e.jsx(c,{children:e.jsx(u,{type:"email",placeholder:"john@example.com",...s,"aria-required":"true",autoComplete:"email"})}),e.jsx(m,{})]})}),e.jsx(n,{control:a.control,name:"business",render:({field:s})=>e.jsxs(i,{children:[e.jsx(l,{children:"Business Name *"}),e.jsx(c,{children:e.jsx(u,{placeholder:"Your Business LLC",...s,"aria-required":"true",autoComplete:"organization"})}),e.jsx(m,{})]})}),e.jsx(n,{control:a.control,name:"phone",render:({field:s})=>e.jsxs(i,{children:[e.jsx(l,{children:"Phone"}),e.jsx(c,{children:e.jsx(u,{type:"tel",placeholder:"(555) 123-4567",...s,autoComplete:"tel"})}),e.jsx(m,{}),e.jsx("p",{className:"text-xs text-gray-500",children:"Optional, but recommended for faster communication"})]})}),e.jsx(n,{control:a.control,name:"about",render:({field:s})=>e.jsxs(i,{children:[e.jsx(l,{children:"Message *"}),e.jsx(c,{children:e.jsx(w,{placeholder:"Tell us about your business goals and how we can help...",className:"min-h-[120px]",...s,"aria-required":"true"})}),e.jsx(m,{})]})}),e.jsx("input",{type:"text",tabIndex:-1,...a.register("honeypot"),style:{position:"absolute",left:"-9999px"},"aria-hidden":"true"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-xs text-gray-500 text-center",children:["By submitting this form, you agree to our"," ",e.jsx("a",{href:"/privacy",className:"text-parascape-green hover:underline",children:"Privacy Policy"})]}),e.jsx(q,{type:"submit",className:"w-full bg-parascape-green hover:bg-parascape-green/90 transition-all duration-200 transform hover:scale-[1.02]",children:"Start Your Digital Transformation"})]})]})})]})}const R=()=>e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(N,{}),e.jsx("div",{className:"pt-24 pb-12",children:e.jsx(C,{})})]});export{R as default};
