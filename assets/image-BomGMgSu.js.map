{"version":3,"file":"image-BomGMgSu.js","sources":["../../src/components/ui/image.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { cn } from '@/lib/utils';\r\nimport { Loading } from './loading';\r\n\r\ninterface ImageProps extends React.ImgHTMLAttributes<HTMLImageElement> {\r\n  src: string;\r\n  alt: string;\r\n  className?: string;\r\n  loadingClassName?: string;\r\n  aspectRatio?: 'square' | '16:9' | '4:3' | 'auto';\r\n  objectFit?: 'contain' | 'cover';\r\n}\r\n\r\nconst aspectRatioClasses = {\r\n  square: 'aspect-square',\r\n  '16:9': 'aspect-video',\r\n  '4:3': 'aspect-4/3',\r\n  auto: ''\r\n};\r\n\r\nexport function Image({\r\n  src,\r\n  alt,\r\n  className,\r\n  loadingClassName,\r\n  aspectRatio = 'auto',\r\n  objectFit = 'cover',\r\n  ...props\r\n}: ImageProps) {\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [imageSrc, setImageSrc] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    const img = new window.Image();\r\n    \r\n    img.onload = () => {\r\n      setImageSrc(src);\r\n      setIsLoading(false);\r\n      setError(null);\r\n    };\r\n\r\n    img.onerror = () => {\r\n      setError('Failed to load image');\r\n      setIsLoading(false);\r\n    };\r\n\r\n    img.src = src;\r\n\r\n    return () => {\r\n      img.onload = null;\r\n      img.onerror = null;\r\n    };\r\n  }, [src]);\r\n\r\n  const containerClasses = cn(\r\n    'relative overflow-hidden bg-gray-100 rounded-md',\r\n    aspectRatioClasses[aspectRatio],\r\n    className\r\n  );\r\n\r\n  if (error) {\r\n    return (\r\n      <div className={containerClasses}>\r\n        <div className=\"absolute inset-0 flex items-center justify-center text-gray-400 text-sm\">\r\n          {error}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={containerClasses}>\r\n      {isLoading && (\r\n        <div className={cn('absolute inset-0', loadingClassName)}>\r\n          <Loading variant=\"pulse\" className=\"h-full\" />\r\n        </div>\r\n      )}\r\n      {imageSrc && (\r\n        <img\r\n          src={imageSrc}\r\n          alt={alt}\r\n          className={cn(\r\n            'transition-opacity duration-300',\r\n            isLoading ? 'opacity-0' : 'opacity-100',\r\n            objectFit === 'contain' ? 'object-contain' : 'object-cover',\r\n            'w-full h-full'\r\n          )}\r\n          {...props}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n} "],"names":["aspectRatioClasses","Image","src","alt","className","loadingClassName","aspectRatio","objectFit","props","isLoading","setIsLoading","useState","error","setError","imageSrc","setImageSrc","useEffect","img","containerClasses","cn","jsx","jsxs","Loading"],"mappings":"6DAaA,MAAMA,EAAqB,CACzB,OAAQ,gBACR,OAAQ,eACR,MAAO,aACP,KAAM,EACR,EAEO,SAASC,EAAM,CACpB,IAAAC,EACA,IAAAC,EACA,UAAAC,EACA,iBAAAC,EACA,YAAAC,EAAc,OACd,UAAAC,EAAY,QACZ,GAAGC,CACL,EAAe,CACb,KAAM,CAACC,EAAWC,CAAY,EAAIC,EAAAA,SAAS,EAAI,EACzC,CAACC,EAAOC,CAAQ,EAAIF,EAAAA,SAAwB,IAAI,EAChD,CAACG,EAAUC,CAAW,EAAIJ,EAAAA,SAAwB,IAAI,EAE5DK,EAAAA,UAAU,IAAM,CACR,MAAAC,EAAM,IAAI,OAAO,MAEvB,OAAAA,EAAI,OAAS,IAAM,CACjBF,EAAYb,CAAG,EACfQ,EAAa,EAAK,EAClBG,EAAS,IAAI,CACf,EAEAI,EAAI,QAAU,IAAM,CAClBJ,EAAS,sBAAsB,EAC/BH,EAAa,EAAK,CACpB,EAEAO,EAAI,IAAMf,EAEH,IAAM,CACXe,EAAI,OAAS,KACbA,EAAI,QAAU,IAChB,CAAA,EACC,CAACf,CAAG,CAAC,EAER,MAAMgB,EAAmBC,EACvB,kDACAnB,EAAmBM,CAAW,EAC9BF,CACF,EAEA,OAAIQ,EAEAQ,EAAA,IAAC,OAAI,UAAWF,EACd,eAAC,MAAI,CAAA,UAAU,0EACZ,SAAAN,CAAA,CACH,CACF,CAAA,EAKFS,EAAA,KAAC,MAAI,CAAA,UAAWH,EACb,SAAA,CAAAT,GACEW,EAAA,IAAA,MAAA,CAAI,UAAWD,EAAG,mBAAoBd,CAAgB,EACrD,SAAAe,EAAA,IAACE,EAAQ,CAAA,QAAQ,QAAQ,UAAU,QAAS,CAAA,EAC9C,EAEDR,GACCM,EAAA,IAAC,MAAA,CACC,IAAKN,EACL,IAAAX,EACA,UAAWgB,EACT,kCACAV,EAAY,YAAc,cAC1BF,IAAc,UAAY,iBAAmB,eAC7C,eACF,EACC,GAAGC,CAAA,CAAA,CACN,EAEJ,CAEJ"}