{"version":3,"file":"ui-image-xJ0dXvzS.js","sources":["../../../src/components/ui/image.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { cn } from '@/lib/utils';\nimport { Loading } from './loading';\n\ninterface ImageProps extends React.ImgHTMLAttributes<HTMLImageElement> {\n  src: string;\n  alt: string;\n  className?: string;\n  loadingClassName?: string;\n  aspectRatio?: 'square' | '16:9' | '4:3' | 'auto';\n  objectFit?: 'contain' | 'cover';\n}\n\nconst aspectRatioClasses = {\n  square: 'aspect-square',\n  '16:9': 'aspect-video',\n  '4:3': 'aspect-4/3',\n  auto: ''\n};\n\nexport function Image({\n  src,\n  alt,\n  className,\n  loadingClassName,\n  aspectRatio = 'auto',\n  objectFit = 'cover',\n  ...props\n}: ImageProps) {\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [imageSrc, setImageSrc] = useState<string | null>(null);\n\n  useEffect(() => {\n    const img = new window.Image();\n    \n    img.onload = () => {\n      setImageSrc(src);\n      setIsLoading(false);\n      setError(null);\n    };\n\n    img.onerror = () => {\n      setError('Failed to load image');\n      setIsLoading(false);\n    };\n\n    img.src = src;\n\n    return () => {\n      img.onload = null;\n      img.onerror = null;\n    };\n  }, [src]);\n\n  const containerClasses = cn(\n    'relative overflow-hidden bg-gray-100 rounded-md',\n    aspectRatioClasses[aspectRatio],\n    className\n  );\n\n  if (error) {\n    return (\n      <div className={containerClasses}>\n        <div className=\"absolute inset-0 flex items-center justify-center text-gray-400 text-sm\">\n          {error}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={containerClasses}>\n      {isLoading && (\n        <div className={cn('absolute inset-0', loadingClassName)}>\n          <Loading variant=\"pulse\" className=\"h-full\" />\n        </div>\n      )}\n      {imageSrc && (\n        <img\n          src={imageSrc}\n          alt={alt}\n          className={cn(\n            'transition-opacity duration-300',\n            isLoading ? 'opacity-0' : 'opacity-100',\n            objectFit === 'contain' ? 'object-contain' : 'object-cover',\n            'w-full h-full'\n          )}\n          {...props}\n        />\n      )}\n    </div>\n  );\n} "],"names":["aspectRatioClasses","Image","src","alt","className","loadingClassName","aspectRatio","objectFit","props","isLoading","setIsLoading","useState","error","setError","imageSrc","setImageSrc","useEffect","img","containerClasses","cn","jsx","jsxs","Loading"],"mappings":"+IAaA,MAAMA,EAAqB,CACzB,OAAQ,gBACR,OAAQ,eACR,MAAO,aACP,KAAM,EACR,EAEO,SAASC,EAAM,CACpB,IAAAC,EACA,IAAAC,EACA,UAAAC,EACA,iBAAAC,EACA,YAAAC,EAAc,OACd,UAAAC,EAAY,QACZ,GAAGC,CACL,EAAe,CACb,KAAM,CAACC,EAAWC,CAAY,EAAIC,WAAS,EAAI,EACzC,CAACC,EAAOC,CAAQ,EAAIF,WAAwB,IAAI,EAChD,CAACG,EAAUC,CAAW,EAAIJ,WAAwB,IAAI,EAE5DK,EAAAA,UAAU,IAAM,CACR,MAAAC,EAAM,IAAI,OAAO,MAEvB,OAAAA,EAAI,OAAS,IAAM,CACjBF,EAAYb,CAAG,EACfQ,EAAa,EAAK,EAClBG,EAAS,IAAI,CAAA,EAGfI,EAAI,QAAU,IAAM,CAClBJ,EAAS,sBAAsB,EAC/BH,EAAa,EAAK,CAAA,EAGpBO,EAAI,IAAMf,EAEH,IAAM,CACXe,EAAI,OAAS,KACbA,EAAI,QAAU,IAAA,CAChB,EACC,CAACf,CAAG,CAAC,EAER,MAAMgB,EAAmBC,EACvB,kDACAnB,EAAmBM,CAAW,EAC9BF,CAAA,EAGF,OAAIQ,EAEAQ,EAAAA,IAAC,OAAI,UAAWF,EACd,eAAC,MAAI,CAAA,UAAU,0EACZ,SAAAN,CACH,CAAA,CACF,CAAA,EAKFS,EAAA,KAAC,MAAI,CAAA,UAAWH,EACb,SAAA,CAAAT,GACEW,EAAA,IAAA,MAAA,CAAI,UAAWD,EAAG,mBAAoBd,CAAgB,EACrD,SAAAe,EAAA,IAACE,EAAQ,CAAA,QAAQ,QAAQ,UAAU,QAAS,CAAA,EAC9C,EAEDR,GACCM,EAAA,IAAC,MAAA,CACC,IAAKN,EACL,IAAAX,EACA,UAAWgB,EACT,kCACAV,EAAY,YAAc,cAC1BF,IAAc,UAAY,iBAAmB,eAC7C,eACF,EACC,GAAGC,CAAA,CACN,CAEJ,CAAA,CAAA,CAEJ"}